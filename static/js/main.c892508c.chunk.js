(this["webpackJsonpgoit-test-work"]=this["webpackJsonpgoit-test-work"]||[]).push([[0],{10:function(e,t,r){e.exports={users__list:"Users_users__list__2ye5N",user_card:"Users_user_card__3cV65",user_card__logo:"Users_user_card__logo__1YUFo",user_card__picture:"Users_user_card__picture__25r0r",user_card__divider:"Users_user_card__divider__273Em",user_card__circle:"Users_user_card__circle__1o3Bz",user_card__avatar:"Users_user_card__avatar__2iqsl",user_card__info:"Users_user_card__info__2Aifn",user_card__tweets:"Users_user_card__tweets__3ATf5",user_card__followers:"Users_user_card__followers__3Asjr",user_card__btn:"Users_user_card__btn__3i4lR",user_card__btn__followed:"Users_user_card__btn__followed__1G_CC",load_more_btn:"Users_load_more_btn__164ZL",back_home_btn:"Users_back_home_btn__3EZIP"}},37:function(e,t,r){e.exports={home:"Home_home__3YzaN",home__title:"Home_home__title__VZg5V",home__btn:"Home_home__btn__JQmKP"}},41:function(e,t,r){e.exports={lds_wrapper:"Loader_lds_wrapper__2SBjX",lds_default:"Loader_lds_default__2laQS"}},52:function(e,t,r){e.exports={dropdown:"Dropdown_dropdown__39XOq"}},79:function(e,t,r){},80:function(e,t,r){"use strict";r.r(t);var c=r(0),s=r.n(c),a=r(29),n=r.n(a),o=r(14),l=r(19),_=r(12),u=r(5),i=r(9),d=r(15),j=r(4),b=r(7),O=Object(_.b)("Phonebook/fetchUsers"),f=Object(_.b)("Phonebook/updUser"),p=r(36),h=r.n(p);h.a.defaults.baseURL="https://6191a09a41928b00176900d3.mockapi.io/users";var m=3;function w(e){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(Object(j.a)().mark((function e(t){var r,c;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/users?page=".concat(t,"&limit=").concat(m));case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put("/users/".concat(t.id),t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U,N,S,k,y=Object(_.c)(O,Object(b.a)(Object(j.a)().mark((function e(){var t,r,c=arguments;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,e.next=3,w(t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))),L=Object(_.c)(f,function(){var e=Object(b.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=Object(_.d)([],(U={},Object(u.a)(U,y.fulfilled,(function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t.payload))})),Object(u.a)(U,L.fulfilled,(function(e,t){return t.payload})),U)),J=Object(_.d)(!1,(N={},Object(u.a)(N,y.pending,(function(){return!0})),Object(u.a)(N,y.fulfilled,(function(){return!1})),Object(u.a)(N,y.rejected,(function(){return!1})),N)),C=Object(_.d)(!1,(S={},Object(u.a)(S,L.pending,(function(){return!0})),Object(u.a)(S,L.fulfilled,(function(){return!1})),Object(u.a)(S,L.rejected,(function(){return!1})),S)),E=Object(_.d)(null,(k={},Object(u.a)(k,y.rejected,(function(e,t){return t.payload})),Object(u.a)(k,y.pending,(function(){return null})),Object(u.a)(k,L.rejected,(function(e,t){return t.payload})),Object(u.a)(k,L.pending,(function(){return null})),k)),I=Object(d.b)({entities:F,isLoadingUsers:J,isUpdFollowers:C,error:E}),A=Object(_.a)({reducer:{users:I}}),B=r(2),P=r(6),D=function(e){return e.users.entities},H=function(e){return e.users.isLoadingUsers},T=function(e){return e.users.isUpdFollowers},V=r(18),Z=r.p+"static/media/goit_logo.e917114d.svg",q=r.p+"static/media/picture.38ea3189.png",z=r(10),G=r.n(z),M=r(3);function Q(e){var t=e.userData,r=e.followedUsers,s=t.id,a=t.user,n=t.tweets,l=t.followers,_=t.avatar,u=Object(o.b)(),d=Object(c.useState)(l),j=Object(P.a)(d,2),b=j[0],O=j[1],f=Object(c.useState)(r.includes(s)),p=Object(P.a)(f,2),h=p[0],m=p[1];return Object(M.jsxs)("div",{className:G.a.user_card,children:[Object(M.jsx)("img",{className:G.a.user_card__logo,src:Z,alt:"goit_logo"}),Object(M.jsx)("img",{className:G.a.user_card__picture,src:q,alt:"card_picture"}),Object(M.jsx)("div",{className:G.a.user_card__divider,children:Object(M.jsx)("div",{className:G.a.user_card__circle,children:Object(M.jsx)("img",{src:_,alt:"avatar-".concat(a),className:G.a.user_card__avatar})})}),Object(M.jsxs)("p",{className:"".concat(G.a.user_card__info," ").concat(G.a.user_card__tweets),children:[n.toLocaleString("en-US")," tweets"]}),Object(M.jsxs)("p",{className:"".concat(G.a.user_card__info," ").concat(G.a.user_card__followers),children:[b.toLocaleString("en-US")," followers"]}),Object(M.jsx)("button",{className:h?G.a.user_card__btn__followed:G.a.user_card__btn,type:"button",onClick:function(){if(h)m(!1),O(b-1),localStorage.setItem("followedUsers",JSON.stringify(r.filter((function(e){return e!==s})))),u(L(Object(V.a)(Object(V.a)({},t),{},{followers:b-1})));else{m(!0),O(b+1);var e=[].concat(Object(i.a)(r),[s]);localStorage.setItem("followedUsers",JSON.stringify(e)),u(L(Object(V.a)(Object(V.a)({},t),{},{followers:b+1})))}},children:h?"Following":"Follow"})]})}var R=r(41),X=r.n(R);function Y(){return Object(M.jsx)("div",{className:X.a.lds_wrapper,children:Object(M.jsxs)("div",{className:X.a.lds_default,children:[Object(M.jsx)("div",{}),Object(M.jsx)("div",{}),Object(M.jsx)("div",{})]})})}var K=r(52),W=r.n(K);function $(e){var t=e.filterTweets,r=Object(c.useState)("show all"),s=Object(P.a)(r,2),a=s[0],n=s[1];return Object(M.jsx)("div",{children:Object(M.jsxs)("select",{className:W.a.dropdown,value:a,onChange:function(e){n(e.target.value),t(e.target.value)},children:[Object(M.jsx)("option",{value:"show all",children:"Show All"}),Object(M.jsx)("option",{value:"follow",children:"Follow"}),Object(M.jsx)("option",{value:"followings",children:"Followings"})]})})}function ee(){var e=Object(o.c)(D),t=Object(o.c)(H),r=Object(o.c)(T),s=Object(o.b)(),a=Object(c.useState)(JSON.parse(localStorage.getItem("followedUsers"))||[]),n=Object(P.a)(a,2),_=n[0],u=n[1],i=Object(c.useState)(1),d=Object(P.a)(i,2),j=d[0],b=d[1],O=Object(c.useState)(e),f=Object(P.a)(O,2),p=f[0],h=f[1],m=Object(c.useState)("show all"),w=Object(P.a)(m,2),x=w[0],v=w[1];Object(c.useEffect)((function(){u(JSON.parse(localStorage.getItem("followedUsers"))||[])}),[r]);var g=Object(c.useCallback)((function(t){switch(t){case"follow":h(e.filter((function(e){return!_.includes(e.id)})));break;case"followings":h(e.filter((function(e){return _.includes(e.id)})));break;default:h(e)}}),[e,_]);return Object(c.useEffect)((function(){g(x)}),[x,e,g]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.b,{to:"/",className:G.a.back_home_btn,children:"\u219a Back home"}),Object(M.jsx)($,{filterTweets:v}),p.length&&Object(M.jsx)("ul",{className:G.a.users__list,children:p.map((function(e){return Object(M.jsx)("li",{children:Object(M.jsx)(Q,{userData:e,followedUsers:_})},e.user)}))}),t?Object(M.jsx)(Y,{}):Object(M.jsx)("button",{className:G.a.load_more_btn,type:"button",onClick:function(){s(y(j+1)),b(j+1)},children:"Load More"})]})}var te=r(37),re=r.n(te);function ce(){return Object(M.jsxs)("div",{className:re.a.home,children:[Object(M.jsx)("h1",{className:re.a.home__title,children:"Welcome to tweets!"}),Object(M.jsx)(l.b,{to:"/tweets",className:re.a.home__btn,children:"Go to tweets"})]})}function se(){var e=Object(o.b)();return Object(c.useEffect)((function(){return e(y())}),[e]),Object(M.jsxs)(B.d,{children:[Object(M.jsx)(B.b,{exact:!0,path:"/",element:Object(M.jsx)(ce,{})}),Object(M.jsx)(B.b,{exact:!0,path:"/tweets",element:Object(M.jsx)(ee,{})}),Object(M.jsx)(B.b,{path:"*",element:Object(M.jsx)(B.a,{to:"/",replace:!0})})]})}r(79);n.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(o.a,{store:A,children:Object(M.jsx)(l.a,{children:Object(M.jsx)("div",{className:"container",children:Object(M.jsx)(se,{})})})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.c892508c.chunk.js.map